<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sign Up: iHack2020</title>
    <link rel="stylesheet" href="https://unpkg.com/bulma@0.8.0/css/bulma.min.css" />
    <link rel="stylesheet" href="/css/bulma-checkradio.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/login.css">
    <script>
        var check = function () {
            if (document.getElementById('password').value == document.getElementById('conf_password').value) {
                document.getElementById('message').style.color = 'green';
                document.getElementById('message').innerHTML = 'matching';
                return true;
            } else {
                document.getElementById('message').style.color = 'red';
                document.getElementById('message').innerHTML = 'not matching';
                return false;
            }
        }
        function getGetParam(param) {
            var url_string = window.location.href

            let key_val = url_string.split('?');
            key_val.shift();

            let kvmap = {}
            for (let i = 0; i < key_val.length; i++) {
                let kv = key_val[i];

                let item = kv.split('=');
                kvmap[item[0]] = item[1]
            }
            return kvmap[param]
        }

        function onReady(){
            let reg_error= getGetParam('reg_error');
            if(reg_error && reg_error == 'true'){
                alert('Registration ID is already used for registration.\nPlease Login.\nIf you find this activity suspicious contact us via FAQs') ; 
                window.location = "/account/login"
            }
        }
    </script>
</head>

<body onload="onReady();">
    <section class="hero">
        <div class="hero-body">
            <div class="container has-text-centered">
                <div class="column is-4 is-offset-4">
                    <h3 class="title has-text-black">Register Yourself</h3>
                    <hr class="login-hr">
                    <div class="box">
                        <figure class="avatar">
                            <img src="/images/signup.png" height="30" width="40%">
                        </figure>
                        <form onsubmit="return check()" method="POST" action="/account/signup">
                            <div class="field">
                                <div class="control">
                                    <input title="Only alphabets are allowed" pattern="[a-zA-Z ]*" name="name"
                                        class="input is-medium" required type="text" placeholder="Your Name"
                                        style="color: black;font-weight: bold" autofocus="">
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <input title="Enter valid Reg ID" name="_id" class="input is-medium" required
                                        type="text" placeholder=" Reg ID (C2K , I2K , E2K)"
                                        pattern="^[CIE]2K[0-9]{8}$" style="color: black;font-weight: bold"
                                        autofocus="">
                                </div>
                            </div>

                            <div class="select is-fullwidth">
                                <select name="year">
                                    <option value="SE"> Second Year (SE)</option>
                                    <option value="TE"> Third Year (TE)</option>
                                    <option value="BE"> Final Year (BE)</option>
                                </select>
                            </div>

                            <div><br></div>

                            <div class="field">
                                <input class="is-checkradio is-info is-medium" id="female" type="radio" name="gender"
                                    checked="checked" value="female">
                                <label for="female">Female</label>
                                <input class="is-checkradio is-info is-medium" id="male" type="radio" name="gender"
                                    value="male">
                                <label for="male">Male</label>
                            </div>

                            <div><br></div>

                            <div class="field">
                                <div class="control">
                                    <input title="Enter valid Email" name="email" class="input is-medium" required
                                        type="email" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" placeholder="Your Email"
                                        style="color: black;font-weight: bold" autofocus="">
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <input title="Enter valid Mobile Number" name="mobile" class="input is-medium"
                                        required type="text" pattern="[0-9]{10}" placeholder="Your Mobile number"
                                        style="color: black;font-weight: bold" autofocus="">
                                </div>
                            </div>

                            <div class="field">
                                <div class="control">
                                    <input title="Enter minimum 6 letters" name="password" id="password"
                                        class="input is-medium" type="password" pattern=".{6,}"
                                        placeholder="Your Password" style="color: black;font-weight: bold">
                                </div>
                            </div>

                            <div class="field">
                                <div class="control">
                                    <input title="Enter minimum 6 letters" name="conf_password" id="conf_password"
                                        pattern=".{6,}" class="input is-medium" type="password"
                                        placeholder="Confirm Password" style="color: black;font-weight: bold">
                                </div>
                                <span id='message'></span>
                            </div>

                            <div class="field">
                                <div class="file is-centered is-medium ">
                                    <label class="file-label">
                                        <input name="collegeid" class="file-input" type="file" name="resume" required>
                                        <span class="file-cta">
                                            <span class="file-label">
                                                Upload College ID
                                            </span>
                                        </span>
                                    </label>
                                </div>
                            </div>

                            <input class="mybutton button is-block is-medium is-fullwidth" type="submit"
                                value="SUBMIT" />
                        </form>
                        <div>
                            <br>
                            <p class="has-text-grey">
                                <a href="/account/login">Login</a> &nbsp;Â·&nbsp;
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

</html>